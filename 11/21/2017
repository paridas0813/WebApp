
unity编译脚本使用il2app 优与mono 1性能更高，2 C#的一些特性mono并不一定支持.但是il2cpp支持。
使用mono虚拟机的时候，unity利用IL编译器编译成il语言编译脚本到mono虚拟机中 然后在编译成机器语言。
在使用il2cpp使用，unity利用il编译器编译成il语言，然后由il2cpp编译器编译成c++然后再编译成机器代码，在编译成c++时候会有优化处理，因此性能更好


unity 中脚本的优化 
程序运行时候，中央处理器cpu会在本一帧执行数百万的指令。当其中的一条指令执行的时间过长时候就会导致游戏变卡。很多原因会导致cpu过载。例如 渲染的代码，
复杂的物理模拟，或者太多的动作的回调。其中主要探讨我们自己写的代码怎么优化。

脚本的处理过程
我们的游戏build的时候，unity打包我们当前的平台能够执行的所有的程序。（也就是说不同的平台打包出的内容不同）。cpus能够只能运行很简单的机器语言。
塔不能执行像我们的c#这样的高级语言。 这也就是意味着unity必须把我们自己的语言转换成其他的语言。这个转换过程叫编译。
unity首先把我们写的脚本编译成中间语言- CIL. CIL 是一种可以广泛的编译成不同的机器语言的语言。 CIL然后编译成我们设备自已可以识别的语言。 第二步是进行
我们所知的提前编译。或者在目标设备上进行即时编译。我们的游戏进行提钱或者即时编译取决我们自己的目标硬件。

unity 引擎的语言与我们自己的语言交流在运行时候额交流

了解我们写的c#语言与写引擎用的c++语言有一些轻微的不同很重要。我们写的代码语言是托管的代码。当托管代码被编译成机器语言时候。他们就会被托管运行时结合。这个t
托管运行时会对内存进行控制管理确保我们的语言不会导致设备崩掉。

造成性能的代码
 第一代码数据结构差。重复的调用可以一次执行的方法。主要讨论几个比较差的数据结构和解决的方法。 第二是没有合理的时候用unity自带的api方法。第三 不该调用的
 时候调用，例如 当敌人已经离开玩家视线的时候一些脚本还在执行。最后一个原因是在我们对于自己的的代码简单苛刻，只是追求代码的简洁。
 
写高效的代码
 尽量移除for循环中的代码 考虑代码是否每帧都执行 使用缓存 使用合理的数据结构

 
